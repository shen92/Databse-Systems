<!-- saved from url=(0055)https://bytes.usc.edu/cs585/f20_db0DS/hw/HW3/spiro.html -->
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=windows-1252" />
  </head>
  <body data-new-gr-c-s-check-loaded="14.983.0">
    <canvas
      id="cnv"
      style="border: 1px solid #777777; margin: 2px; padding: 2px"
      width="300"
      height="300"
    ></canvas>
    <pre
      id="con"
      style="width: 24%; border: 1px solid #777777; margin: 2px; padding: 2px"
    ></pre>

    <script>
      function prtt(msg) {
        var trm = document.getElementById("con");
        trm.innerHTML += msg + "\n";
      } // prtt()

      (function draw() {
        var canvas = document.getElementById("cnv");
        if (canvas.getContext) {
          var ctx = canvas.getContext("2d");

          ctx.beginPath();

          //x(t) = (R+r)*cos((r/R)*t) - a*cos((1+r/R)*t)
          //y(t) = (R+r)*sin((r/R)*t) - a*sin((1+r/R)*t)

          var R = 5,
            r = 1,
            a = 4;
          var x0 = R + r - a,
            y0 = 0;

          const trojan = [-118.285426, 34.0205022];
          const scale = 0.0002;
          ctx.moveTo(trojan[1] + scale * x0, trojan[0] + scale * y0);

          var cos = Math.cos,
            sin = Math.sin,
            pi = Math.PI,
            nRev = 10;
          for (var t = 0.0; t < pi * nRev; t += 0.05) {
            var x = (R + r) * cos((r / R) * t) - a * cos((1 + r / R) * t);
            var y = (R + r) * sin((r / R) * t) - a * sin((1 + r / R) * t);
            var x2 = trojan[1] + scale * x,
              y2 = trojan[0] + scale * y;
            ctx.lineTo(x2, y2);
            //document.write(x+", "+y);
            prtt(y2 + "," + x2);
          }
          ctx.stroke();
        }
      })(); // immediate execution JS 'magic' :)
    </script>
  </body>
</html>
